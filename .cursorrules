# Cursor project orientation for ProteoWizard (pwiz)
# 
# This file provides Cursor-specific behavior guidance.
# For detailed coding conventions, style guidelines, and testing patterns,
# see STYLEGUIDE.md - the comprehensive style guide used by all AI tools.
# For project context, common gotchas, and architectural patterns,
# see MEMORY.md - essential context for AI tools working on this project.

[project]
name = "ProteoWizard (pwiz)"
description = "C++ libraries and tools for proteomics; native builds via MSVC/GCC and Boost.Build"
primary_languages = ["C++", "C#", "Jam", "Batch", "Shell"]

[on_open]
message = "Use quickbuild.bat on Windows to build. Do not introduce new build systems. Respect existing indentation and avoid unrelated reformatting."

[paths]
code_roots = [
  "pwiz/",
  "pwiz_tools/",
  "pwiz_aux/",
]
third_party = ["libraries/"]
outputs = [
  "build-nt-x86/msvc-release-x86_64/",
]

entry_points = [
  "quickbuild.bat",
  "quickbuild.sh",
  "pwiz.sln",
  "pwiz_tools/Skyline/Skyline.sln",
  "bs.bat",
  "doc/index.html",
]

[rules]
- Prefer `quickbuild.bat` on Windows; pass non-interactive flags where applicable.
- Keep code style intact: do not reformat unrelated files; preserve tabs/spaces.
- When adding sources, update the appropriate Jamfile or Visual Studio project.
- Use existing vendor libraries from `libraries/`; do not fetch replacements.
- For documentation, add concise notes to `README.md` and `doc/`.
- Project conventions: See MEMORY.md for essential project context and common gotchas.

[skyline]
primary_solution = "pwiz_tools/Skyline/Skyline.sln"
requires_full_repo_checkout = true
full_build_command = "bs.bat"  # Calls pwiz_tools\\build-skyline.bat with vendor license acceptance
shared_dependencies = [
  "pwiz_tools/Shared",
]
docs = [
  "https://skyline.ms/wiki/home/software/Skyline/page.view?name=HowToBuildSkylineTip",
]

[assistant_behaviors]
- Provide minimal, actionable explanations.
- Use fenced code blocks only for relevant snippets or commands.
- Default to read-only discovery before edits; then apply focused edits.

[async_patterns]
# See STYLEGUIDE.md for comprehensive async/await guidelines
reference = "STYLEGUIDE.md"

[build_and_testing]
- LLM agents CANNOT build or run this project directly.
- Build and test operations must be performed by the developer using Visual Studio.
- When code changes are made, request that the developer build and test the changes.
- Do not attempt to run quickbuild.bat, bs.bat, or any build commands.
- Do not attempt to run tests or execute the application.

[file_headers]
# See STYLEGUIDE.md for file header format and AI attribution guidelines
reference = "STYLEGUIDE.md"

[testing]
# See STYLEGUIDE.md for comprehensive testing guidelines
reference = "STYLEGUIDE.md"

[style_skyline_csharp]
# See STYLEGUIDE.md for comprehensive C# coding conventions
reference = "STYLEGUIDE.md"
docs = [
  "STYLEGUIDE.md"
]

[localization]
# See STYLEGUIDE.md for detailed localization guidelines
reference = "STYLEGUIDE.md"

[ui_guidelines]
# See STYLEGUIDE.md for detailed UI guidelines
reference = "STYLEGUIDE.md"

[executables]
note = "Projects under pwiz_tools/Skyline/Executables are separate solutions (stand-alone tools and utilities). Not built by Skyline.sln; prefer Skyline conventions unless local overrides are required."
