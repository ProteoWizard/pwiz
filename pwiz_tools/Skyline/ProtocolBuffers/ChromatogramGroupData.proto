syntax = "proto3";
option csharp_namespace = "pwiz.Skyline.Model.Results.ProtoBuf";
message ChromatogramGroupData {
	message TimeList {
		repeated float times = 1;
	}
	message ScanIdList {
		repeated int32 scanIds = 2;
	}

	repeated TimeList timeLists = 1;
	repeated ScanIdList scanIdLists = 2;
	
	message Chromatogram {
		int32 timeListIndex = 1; // One-based index into "timeLists" indicating which set of times to use.
		repeated float intensities = 2;
		repeated float massErrorsDeprecated = 3;
		repeated sint32 massErrors100X = 5;
		int32 scanIdListIndex = 4; // One-based index into "scanIdLists" or zero if no scanIds
	}
	message TimeIntervals {
		repeated float startTimes = 1;
		repeated float endTimes = 2;
	}
	repeated Chromatogram chromatograms = 3;
	double interpolatedStartTime = 4;
	double interpolatedEndTime = 5;
	int32 interpolatedNumPoints = 6;
	double interpolatedDelta = 7;
	bool inferZeroes = 9;
	TimeIntervals timeIntervals = 10;
}
message ResultFileMetaDataProto {
	message SpectrumMetadata {
		double retentionTime = 1;
		repeated int32 scanIdParts = 2;
		string scanIdText = 3;
		repeated int32 precursorIndex = 4;
		int32 scanDescriptionIndex = 5;
	}

	message Precursor {
		double targetMz = 1;
		double isolationWindowLower = 2;
		double isolationWindowUpper = 3;
		double collisionEnergy = 4;
		int32 msLevel = 5;
	}

	repeated SpectrumMetadata spectra = 1;
	repeated Precursor precursors = 2;
	repeated string scanDescriptions = 3;
}
